#-*- encoding: utf8 -*-
#!/usr/bin/python

#Este script es posible gracias a la siguiente fuente: http://michal.karzynski.pl/blog/2013/06/09/django-nginx-gunicorn-virtualenv-supervisor/
#Creado por kaotika ada_lovelance@hackingcodeschool.net Visitanos en hackingcodeschool.net


import os
import sys
import subprocess

print "Este script configurará Django con Nginx, Gunicorn, virtualenv, supervisor y PostgreSQL"
print "Lo primero que se va a ejecutar es aptitude update && upgrade, es recomendable para las instalaciones posteriores"

respuactu = raw_input("Premites actualizar el sistema (s/n)")

if respuactu == s :
    subprocess.call(["aptitude","update"])
    subprocess.call(["aptitude","upgrade"])
else:
   break
   
dominio = raw_input("Introduce tu dominio ej hackingcodeschool.net : ")

print "Ahora se instalará postgres"
usuariopost = raw_input("Introduce el nuevo usuari@ para la base de datos de tu aplicación: ")


commands.getoutput(["aptitude","install", "postgresql postgresql-contrib"])
commands.getoutput(["su","-", "postgres"])

print "Crearemos el usuario de la base de datos de postgres"
commands.getoutput(["createuser" "-" "P"])


